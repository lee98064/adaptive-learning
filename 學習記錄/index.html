<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1.0,user-scalable=yes,maximum-scale=5.0,minimum-scale=1.0"
    />
    <link rel="stylesheet" href="./css/cms-index.css" />
    <link rel="stylesheet" type="text/css" href="./css/student_root.css" />
    <link rel="stylesheet" type="text/css" href="./css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="./css/newcss.css" />
    <link rel="stylesheet" type="text/css" href="./css/function.css" />
    <link rel="stylesheet" href="./css/index.css" />
  </head>
  <body>
    <div class="container">
      <section id="pageTab">
        <div class="pageTab">
          <ul class="pageTabList">
            <li data-page="content1" class="actTab">學習紀錄</li>
            <li data-page="content2">能力分析雷達圖</li>
          </ul>
          <div class="pageTabContent">
            <div id="content1">
              <div class="left">
                <div class="contant contant-collapse active">
                  <h3>篩選器</h3>
                  <i class="fa-solid fa-caret-right"></i>
                </div>
                <div class="contant contant-custom">
                  <div class="selector-group">
                    <h4>核心素養:</h4>
                    <div class="selector" id="coreliteracy-selector">
                      <span class="valueShow" data-value>請選擇</span>
                      <ul>
                        <li data-value="">全部</li>
                      </ul>
                    </div>
                  </div>
                  <div class="selector-group">
                    <h4>探究學習內容:</h4>
                    <div class="selector" id="explorelearning-selector">
                      <span class="valueShow" data-value>請選擇</span>
                      <ul>
                        <li data-value="">全部</li>
                      </ul>
                    </div>
                  </div>
                  <hr>
                  <div class="input-group">
                    <h4>試題編號或名稱:</h4>
                    <div class="input-box">
                      <input type="text" id="searchtext">
                      <i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                  </div>
                  <button class="btn confirmBtn search-btn">查詢</button>
                </div>
                <button class="btn confirmBtn d-block w-100 m-0 mt-3" id="download_history">
                  下載學習紀錄
                </button>
              </div>
              <div class="right">
                <div class="scienceLiteracy-history-big-title">
                  <h4>題目名稱(點擊展開作答紀錄)</h4>
                  <h4 class="sm-d-none">測驗時間(年/月/日 時刻)</h4>
                </div>
                <div class="scienceLiteracy-history-row"  id="scienceLiteracy-history-row">
                  <!-- <div class="scienceLiteracy-history-row-title">
                    <h4>82.全球氣候變遷之融冰現象</h4>
                    <h4 class="sm-d-none">2022-06-08 15:39:47</h4>
                    <i class="fa-solid fa-caret-right"></i>
                  </div>
                  <div class="scienceLiteracy-history-row-data">
                    <h4 class="row-data-title md-d-none">
                      最新測驗日期(年/月/日 時刻)
                    </h4>

                    <p class="md-d-none text-center row-data-content">
                      2022-06-08 15:39:47
                    </p>
                    <h4 class="row-data-title">核心素養</h4>

                    <p class="row-data-content">
                      A2系統思考與解決問題、B1符號運用與溝通表達、B2科技資訊與媒體素養。
                    </p>

                    <h4 class="row-data-title">探究學習內容</h4>
                    <p class="row-data-content">
                      搜集資訊、收集資料數據、分析資料和呈現證據、解釋和推理、評價與省思。
                    </p>

                    <div class="row-data-number md-d-none">
                      <h4 class="row-data-title row-data-number-title">
                        題目(解答)
                      </h4>
                      <div class="row-data-number-btn-group">
                        <button class="btn defaultBtn d-block">1</button>
                        <button class="btn defaultBtn d-block">2</button>
                        <button class="btn defaultBtn d-block">3</button>
                      </div>
                    </div>
                    <div class="row-data-table">
                      <div class="row-data-table-title">
                        <h4 class="sm-d-none">題目(解答)</h4>
                        <h4>你的答案(依照作答時間近至遠排序)</h4>
                        <h4>對/錯</h4>
                        <h4 class="sm-d-none">作答時間(秒)</h4>
                      </div>
                      <div class="row-data-table-data">
                        <button class="btn defaultBtn d-block sm-d-none">
                          1
                        </button>
                        <h4 class="md-d-none">問題一</h4>
                        <p>B</p>
                        <img src="./images/correct.png" alt="" />
                        <p class="sm-d-none">54秒</p>
                      </div>
                      <div class="row-data-table-data">
                        <span class="sm-d-none"></span>
                        <h4 class="md-d-none"></h4>
                        <p>因為量筒的水量最少。</p>
                        <img src="./images/error.png" alt="" />
                        <p class="sm-d-none">54秒</p>
                      </div>
                      <div class="row-data-table-data">
                        <button class="btn defaultBtn d-block sm-d-none">
                          2
                        </button>
                        <h4 class="md-d-none">問題二</h4>
                        <p>因為量筒的水量最少。</p>
                        <img src="./images/error.png" alt="" />
                        <p class="sm-d-none">54秒</p>
                      </div>
                    </div>
                    <button class="btn defaultBtn d-block m-auto row-data-more">
                      查看本題過往作答歷史
                    </button> -->
                  </div>
                </div>
              </div>
            </div>
            <div id="content2">


            </div>
          </div>
        </div>
      </section>
    </div>
    <div class="ModalBoxBig"></div>
    <script src="./js/customStyle_function.js"></script>
    <script src="./js/jquery-3.5.1.min.ob.js"></script>
    <script src="./js/loadingoverlay.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.13.1/xlsx.full.min.js"></script>
    <script src="./js/dateTime.js"></script>
    <script src="./js/function.js"></script>
    <script src="./js/tamplate.js"></script>
    <script
      src="https://kit.fontawesome.com/98e5a63198.js"
      crossorigin="anonymous"
    ></script>

    <script type="text/html" id="scienceLiteracy_history_row_template">
      <% if(data.length < 1){ %> 
        <div class="scienceLiteracy-history-row">
          <div class="scienceLiteracy-history-row-title">
            <h4>
              <font color="#E00">
                尚未有作答紀錄!!
              </font>
            </h4>
          </div>
        </div>
      <% } %>
      <% for ( var i = 0; i < data.length; i++ ) { %>
        <div class="scienceLiteracy-history-row">
          <div class="scienceLiteracy-history-row-title">
            <h4><%= data[i].item_show_num %>.<%= data[i].item_name %></h4>
            <h4 class="sm-d-none"><%= data[i].examlist.length == 0 ? '無資料' : formatDate(data[i].examlist[0].update_time) %></h4>
            <i class="fa-solid fa-caret-right"></i>
          </div>
          <div class="scienceLiteracy-history-row-data" style="display: none;">
            <h4 class="row-data-title md-d-none">最新測驗日期(年/月/日 時刻)</h4>
  
            <p class="md-d-none text-center row-data-content">
              <%= data[i].examlist.length == 0 ? '無資料' : formatDate(data[i].examlist[0].update_time) %>
            </p>
            <h4 class="row-data-title">核心素養</h4>
  
            <p class="row-data-content">
              <%= get12AboutStr(data[i].core_code) %>
            </p>
  
            <h4 class="row-data-title">探究學習內容</h4>
            <p class="row-data-content">
              <%= getSO4BJStr(data[i].learning_content) %>
            </p>
  
            <div class="row-data-number md-d-none">
              <h4 class="row-data-title row-data-number-title">題目(解答)</h4>
              <div class="row-data-number-btn-group">
                <% for (var j = 1; j <= data[i].examlist[0].anslist.length; j++ ) { %>
                  <button class="btn defaultBtn d-block"><%= j %></button>
                <% } %>
              </div>
            </div>
            <div class="row-data-table">
              <div class="row-data-table-title">
                <h4 class="sm-d-none">題目(解答)</h4>
                <h4>你的答案(依照作答時間近至遠排序)</h4>
                <h4>對/錯</h4>
                <h4 class="sm-d-none">作答時間(秒)</h4>
              </div>

              <% for (var j = 0; j < data[i].examlist[0].anslist.length; j++){ %>
                <% for (var k = 0; k < data[i].examlist.length; k++) { %>
                  <div class="row-data-table-data<% if( k != 0 ){ %> history-data<% } %>">
                    <% if( k == 0 ){ %>
                      <button class="btn defaultBtn d-block sm-d-none"><%= j+1 %></button>
                      <h4 class="md-d-none">問題<%= j + 1 %></h4>
                    <% }else{ %>
                        <span class="sm-d-none"></span>
                        <span class="md-d-none"></span>
                    <% } %>
                    <% if(data[i].examlist[k].anslist[j].iscorrect == "1") { %>
                      <p><%= data[i].examlist[k].anslist[j].answer %></p>
                      <img src="./images/correct.png" alt="" />
                    <% }else{ %>
                      <p class="error-answer"><%= data[i].examlist[k].anslist[j].answer %></p>
                      <img src="./images/error.png" alt="" />
                    <% } %>
                    <p class="sm-d-none"><%= formatTime2HMSMs(data[i].examlist[k].anslist[j].answer_time) %></p>
                  </div>
                <% } %>
              <% } %>
              <!-- <div class="row-data-table-data">
                <span class="sm-d-none"></span>
                <h4 class="md-d-none"></h4>
                <p>因為量筒的水量最少。</p>
                <img src="./images/error.png" alt="" />
                <p class="sm-d-none">54秒</p>
              </div> -->
            </div>
            <button class="btn defaultBtn d-block m-auto row-data-more">
              <i class="fa-solid fa-eye"></i>
            </button>
          </div>
        </div>
      <% } %>
    </script>

    <script type="text/html" id="scienceLiteracy_history_download_modal_template">
      <div class="filterBox-group">
        <h4>選擇已作答題目</h4>
        <div class="filterBox">
          <div class="filterBox-input-group">
            <input type="text" id="filterBox-input" placeholder="輸入試題編號或名稱">
            <button id="filterBox-button"><i class="fa-solid fa-magnifying-glass"></i></button>
          </div>
          <div class="filterBox-checkBox-selectAll">
            <input type="checkbox" value="selectAll">
            <label for="selectAll1">全選</label>
          </div>
          <div class="filterBox-checkBox-group-list" id="history_download_item_filter">
            <% if(data.scienceLiteracyData.length < 0){ %>
              <h4 style="margin: 10px 20px">
                <font color="#E00">
                  尚未有作答紀錄!!
                </font>
              </h4>
            <% } %>
            <% for(var i = 0; i < data.scienceLiteracyData.length; i++) { %>
              <div class="filterBox-checkBox-group">
                <input type="checkbox" value="<%= data.scienceLiteracyData[i].item_li_sn %>">
                <label><%= data.scienceLiteracyData[i].item_show_num %>. <%= data.scienceLiteracyData[i].item_name %></label>
              </div>
            <% } %>
          </div>
        </div>
      </div>
      <div class="filterBox-group">
        <h4>選擇輸出項目</h4>
        <div class="filterBox">
          <div class="filterBox-checkBox-selectAll">
            <input type="checkbox" value="selectAll">
            <label>全選</label>
          </div>
          <div class="filterBox-checkBox-group-list" id="history_download_column_filter">
            <div class="filterBox-checkBox-group">
              <input type="checkbox" value="item_show_num">
              <label>題目編號</label>
            </div>
            <div class="filterBox-checkBox-group">
              <input type="checkbox" value="item_name">
              <label>題目名稱</label>
            </div>
            <div class="filterBox-checkBox-group">
              <input type="checkbox" value="answer">
              <label>你的答案</label>
            </div>
            <div class="filterBox-checkBox-group">
              <input type="checkbox" value="iscorrect">
              <label>對與錯</label>
            </div>
            <div class="filterBox-checkBox-group">
              <input type="checkbox" value="answer_time">
              <label>作答時間(秒)</label>
            </div>
            <div class="filterBox-checkBox-group">
              <input type="checkbox" value="update_time">
              <label>測驗時間(年/月/日 時刻)</label>
            </div>
            <div class="filterBox-checkBox-group">
              <input type="checkbox" value="item_history">
              <label>過往作答歷史</label>
            </div>
          </div>
        </div>
      </div>

    </script>
    <script src="./js/api.js"></script>
    <script src="./js/index.js"></script>
    <script src="./js/downloadModal.js"></script>
   
  </body>
</html>
